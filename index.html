<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>نظام تقارير أداء المعلمة</title>

<link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700;800&display=swap" rel="stylesheet">
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>

<style>
/* Base Styles */
body {
  font-family: 'Tajawal', sans-serif;
  background-color: #f0f4f8;
  color: #2c3e50;
  line-height: 1.6;
  padding: 20px;
}
.container {
  max-width: 800px;
  margin: 0 auto;
  background-color: #fff;
  padding: 30px;
  border-radius: 10px;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
}
h1, h2 {
  text-align: center;
  color: #34495e;
}
h1 {
  font-size: 2rem;
  margin-bottom: 5px;
}
h2 {
  font-size: 1.2rem;
  margin-bottom: 20px;
  color: #7f8c8d;
}

/* Form Styles */
.form-section {
  border-bottom: 1px solid #e0e6ed;
  padding-bottom: 20px;
  margin-bottom: 20px;
}
.form-row {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 20px;
  margin-bottom: 15px;
}
.form-group {
  display: flex;
  flex-direction: column;
}
label {
  font-weight: 700;
  margin-bottom: 8px;
  color: #34495e;
}
input, textarea {
  width: 100%;
  padding: 12px;
  border: 1px solid #c0c9d2;
  border-radius: 8px;
  font-family: 'Tajawal', sans-serif;
  font-size: 1rem;
  background-color: #f9fbfd;
  transition: border-color 0.3s;
}
input:focus, textarea:focus {
  outline: none;
  border-color: #3498db;
}
textarea {
  min-height: 100px;
  resize: vertical;
}

/* Button Styles */
.btn-container {
  text-align: center;
  margin-top: 30px;
}
.btn {
  padding: 12px 25px;
  background-color: #27ae60;
  color: #fff;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  font-size: 1.1rem;
  font-weight: 700;
  transition: background-color 0.3s, transform 0.2s;
}
.btn:hover {
  background-color: #2ecc71;
  transform: translateY(-2px);
}

/* --- PDF Report Styles (Hidden in HTML) --- */
.report-paper {
  display: none; /* Hide by default */
  width: 210mm; /* A4 width */
  min-height: 297mm; /* A4 height */
  box-sizing: border-box;
  padding: 20mm;
  background-color: #fff;
  color: #000;
  font-family: 'Tajawal', sans-serif;
}
.report-header {
  text-align: center;
  margin-bottom: 20mm;
}
.report-header img {
  max-width: 100%;
  max-height: 40mm;
  margin-bottom: 10mm;
}
.report-title h1 {
  font-size: 24px;
  color: #0a3d62;
  margin: 0;
}
.report-info {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 15px 30px;
  margin-bottom: 15mm;
  font-size: 14px;
}
.info-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
}
.info-item .label {
  font-weight: 700;
  color: #555;
  white-space: nowrap;
}
.info-item .value {
  text-align: left;
}
.report-details h3 {
  font-size: 18px;
  color: #0a3d62;
  border-bottom: 2px solid #0a3d62;
  padding-bottom: 5px;
  margin-bottom: 10px;
}
.report-details p {
  line-height: 1.8;
}
.signature-section {
  display: flex;
  justify-content: space-between;
  margin-top: 25mm;
  font-size: 15px;
  font-weight: 700;
}
@media print {
  body > :not(.report-paper) { display: none !important; }
  .report-paper { display: block !important; margin: 0; box-shadow: none; }
}
</style>
</head>
<body>

<div class="container">
  <h1>نظام تقارير أداء المعلمة</h1>
  <h2>وزارة التعليم - إدارة التعليم</h2>
  <p style="text-align:center; color:#7f8c8d;">أدخل البيانات التالية لإنشاء التقرير اليومي</p>
  <hr style="border:0; height:1px; background-color:#e0e6ed; margin:20px 0;">

  <form id="reportForm">
    <div class="form-section">
      <div class="form-row">
        <div class="form-group">
          <label for="teacherName">اسم المعلمة</label>
          <input type="text" id="teacherName" required>
        </div>
        <div class="form-group">
          <label for="specialization">التخصص</label>
          <input type="text" id="specialization" required>
        </div>
      </div>
      <div class="form-row">
        <div class="form-group">
          <label for="schoolName">اسم المدرسة</label>
          <input type="text" id="schoolName" required>
        </div>
        <div class="form-group">
          <label for="date">التاريخ</label>
          <input type="date" id="date" required>
        </div>
      </div>
    </div>
    
    <div class="form-section">
      <h3>بيانات الدرس</h3>
      <div class="form-row">
        <div class="form-group">
          <label for="unit">الوحدة الدراسية</label>
          <input type="text" id="unit">
        </div>
        <div class="form-group">
          <label for="lessonTitle">عنوان الدرس</label>
          <input type="text" id="lessonTitle">
        </div>
      </div>
      <div class="form-row">
        <div class="form-group">
          <label for="class">الصف</label>
          <input type="text" id="class">
        </div>
        <div class="form-group">
          <label for="period">الحصة</label>
          <input type="text" id="period">
        </div>
      </div>
      <div class="form-group">
        <label for="objectives">أهداف الدرس</label>
        <textarea id="objectives" placeholder="اكتب أهداف الدرس"></textarea>
      </div>
      <div class="form-row">
        <div class="form-group">
          <label for="achievement">نسبة تحقق الأهداف</label>
          <input type="text" id="achievement" placeholder="مثال: 90% أو ممتاز">
        </div>
        <div class="form-group">
          <label for="term">الفصل الدراسي</label>
          <input type="text" id="term" placeholder="مثال: الأول">
        </div>
      </div>
    </div>

    <div class="form-section">
      <h3>الملاحظات والتحديات</h3>
      <div class="form-group">
        <label for="notes">ملاحظات حول تفاعل الطالبات</label>
        <textarea id="notes" placeholder="اكتب ملاحظاتك هنا"></textarea>
      </div>
      <div class="form-group">
        <label for="challenges">التحديات الصفية</label>
        <textarea id="challenges" placeholder="اكتب التحديات التي واجهتك"></textarea>
      </div>
    </div>

    <div class="btn-container">
      <button type="submit" class="btn">إنشاء التقرير</button>
    </div>
  </form>
</div>

<div id="report-paper" class="report-paper"></div>

<script>
document.getElementById('reportForm').addEventListener('submit', function(event) {
  event.preventDefault();
  
  // Get form data
  const teacherName = document.getElementById('teacherName').value;
  const specialization = document.getElementById('specialization').value;
  const schoolName = document.getElementById('schoolName').value;
  const date = document.getElementById('date').value;
  const unit = document.getElementById('unit').value;
  const lessonTitle = document.getElementById('lessonTitle').value;
  const lessonClass = document.getElementById('class').value;
  const period = document.getElementById('period').value;
  const objectives = document.getElementById('objectives').value;
  const achievement = document.getElementById('achievement').value;
  const term = document.getElementById('term').value;
  const notes = document.getElementById('notes').value;
  const challenges = document.getElementById('challenges').value;

  // Generate HTML for the PDF
  const reportHTML = `
    <div class="report-paper">
      <div class="report-header">
        <img src="https://c.top4top.io/p_353083rj21.png" alt="شعار وزارة التعليم">
        <div class="report-title">
          <h1>نظام تقارير أداء المعلمة</h1>
        </div>
      </div>
      
      <div class="report-info">
        <div class="info-item">
          <span class="label">اسم المعلمة:</span>
          <span class="value">${teacherName || '...'}</span>
        </div>
        <div class="info-item">
          <span class="label">التخصص:</span>
          <span class="value">${specialization || '...'}</span>
        </div>
        <div class="info-item">
          <span class="label">اسم المدرسة:</span>
          <span class="value">${schoolName || '...'}</span>
        </div>
        <div class="info-item">
          <span class="label">التاريخ:</span>
          <span class="value">${date || '...'}</span>
        </div>
        <div class="info-item">
          <span class="label">الوحدة الدراسية:</span>
          <span class="value">${unit || '...'}</span>
        </div>
        <div class="info-item">
          <span class="label">عنوان الدرس:</span>
          <span class="value">${lessonTitle || '...'}</span>
        </div>
        <div class="info-item">
          <span class="label">الصف:</span>
          <span class="value">${lessonClass || '...'}</span>
        </div>
        <div class="info-item">
          <span class="label">الحصة:</span>
          <span class="value">${period || '...'}</span>
        </div>
        <div class="info-item">
          <span class="label">الفصل الدراسي:</span>
          <span class="value">${term || '...'}</span>
        </div>
        <div class="info-item">
          <span class="label">نسبة تحقق الأهداف:</span>
          <span class="value">${achievement || '...'}</span>
        </div>
      </div>

      <div class="report-details">
        <h3>أهداف الدرس</h3>
        <p>${objectives || '...'}</p>
        <h3>ملاحظات حول تفاعل الطالبات</h3>
        <p>${notes || '...'}</p>
        <h3>التحديات الصفية</h3>
        <p>${challenges || '...'}</p>
      </div>

      <div class="signature-section">
        <p>اسم المعلمة: ${teacherName || '...'}</p>
        <p>مديرة المدرسة: ........................</p>
      </div>
    </div>
  `;

  // Set the HTML content to the hidden div
  const reportPaper = document.getElementById('report-paper');
  reportPaper.innerHTML = reportHTML;

  // Generate and download the PDF
  html2pdf().from(reportPaper).save(`تقرير-المعلمة-${date}.pdf`);
});
</script>

</body>
</html>
